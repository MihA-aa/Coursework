
@using Coursework.Models
@model Instruction
@{
    ViewBag.Title = "Details";
}
<style>
    #infa {
        width: 30%;
        float: left;
        margin-right: 50px;
        margin-left: 10px;
        border: 1px #e6e6fa solid;
        padding: 10px;
    }

    #wrapper {
        overflow: hidden;
        padding-bottom: 10px;
        margin-bottom: 10px;
        border: 1px #2f4f4f solid;
    }

    .sortable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        min-height: 150px;
        max-width: 650px;
        border: ridge;
    }

    #steps {
        float: left;
    }

    #stepsi {
        float: left;
        overflow: hidden;
    }

    .sortable li {
        margin: 5px 5px 35px 5px;
        padding: 1px;
        float: left;
        width: 120px;
        height: 120px;
        text-align: center;
    }

    a.button30 {
        position: relative;
        z-index: 1;
        display: inline-block;
        width: 1.3em;
        height: 1.3em;
        line-height: 1.3em;
        vertical-align: middle;
        text-align: center;
        text-decoration: none;
        text-shadow: 1px 1px rgba(255,255,255,.3);
        font-size: 300%;
        font-weight: 900;
        color: #000;
        border-radius: 100%;
        background: rgb(144,142,105) linear-gradient(rgb(185,181,151), rgb(144,142,105));
        box-shadow: inset 0 -2px 1px rgba(0,0,0,.5), inset 0 2px 1px rgba(255,255,255,.9), 0 4px 4px rgba(0,0,0,.9);
    }

        a.button30:after {
            content: "";
            position: absolute;
            z-index: -1;
            top: 12%;
            left: 12%;
            right: 12%;
            bottom: 12%;
            border-radius: 100%;
            background: rgb(242,203,20) linear-gradient(rgb(242,203,20), rgb(255,182,7));
            box-shadow: inset 0 2px 1px rgba(0,0,0,.5), inset 0 -2px 1px rgba(255,255,255,.3);
        }

    a.boxclose,  input.boxclose {
        float: right;
        margin-bottom: -5px;
        margin-right: -15px;
        cursor: pointer;
        color: #fff;
        border: 1px solid #AEAEAE;
        border-radius: 30px;
        background: #605F61;
        font-size: 31px;
        font-weight: bold;
        display: inline-block;
        line-height: 0px;
        padding: 11px 3px;
        z-index: 999;
    }

    .boxclose:before {
        content: "×";
    }
</style>
<h2>@Model.InstructionName</h2>
<div id="wrapper">
    <div id="infa">
        <h3>Информация о инструкции</h3>

        <div class="display-label">
            <b>Категория</b>
        </div>
        <div class="display-field">
            @Model.Category
        </div>
        <br />
        <div class="display-label">
            <b>Автор</b>
        </div>
        <div class="display-field">
            @Model.Author
        </div>
        <br />
        <div class="display-label">
            <b>Видео пример</b>
        </div>
        <div class="display-field">
            <a>@Model.LinkToVideo</a>
        </div>
        <br />
        <div class="display-label">
            <b>Тэги</b>
        </div>
        <ul>
            @foreach (Tag c in Model.Tags)
            {
                <li>@c.TagName</li>
            }
        </ul>
        <div class="display-field">
            Лайки
            <a class="fi-like size-27 none"></a>
            <a class="fi-dislike size-27 none"></a>
            @*@Model.NumberOfLikes.ToString()*@
        </div>
        <br />
        <div class="display-label">
            <b>Создана</b>
        </div>
        <div class="display-field">
            @Model.DateOfCreation.ToString()
        </div>
        <br />
        <div class="display-label">
            <b>Комментарии</b>
        </div>
        <ul>
            @foreach (Comment c in Model.Comments)
            {
                <p>@c.UserId: </p>
                    <p>@c.Contetnt</p>
            }
        </ul>

    </div>
    <div id="stepsi">

        @using (Ajax.BeginForm("StepsPartial", new { id = Model.Id }, new AjaxOptions { UpdateTargetId = "results", LoadingElementId = "loading" }))
        {
            <input type="submit" value="Обновить" style="display: none;" id="qwer"/>
        }
        <div id="loading" style="display: none;">
            <h3>Refresh...</h3>
        </div>
        <div id="results"></div>
    </div>
    </div>

@section scripts{
    <script type="text/javascript">
        $('#qwer').click();
        function funcDelete() {
            setTimeout(function () { $('#qwer').click() }, 500);
        }
        
    </script>
}
